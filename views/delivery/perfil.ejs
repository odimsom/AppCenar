<div class="p-6 max-w-7xl mx-auto text-white">
  <div class="flex justify-between items-center mb-6">
    <h1 class="text-3xl font-bold text-petrel">Mi perfil</h1>
    <a
      href="/delivery/home"
      class="btn bg-bluedart hover:bg-petrel text-white rounded-lg py-2 px-4 flex items-center gap-2"
    >
      <i class="fa fa-arrow-left"></i> Volver
    </a>
  </div>

  <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
    <!-- Perfil -->
    <div class="bg-benthic rounded-xl shadow p-6 text-center">
      <% if (usuario.foto) { %>
      <img
        src="<%= usuario.foto %>"
        alt="<%= usuario.nombre %>"
        class="w-36 h-36 mx-auto rounded-full object-cover mb-4 border-4 border-petrel"
      />
      <% } else { %>
      <div
        class="w-36 h-36 mx-auto flex items-center justify-center rounded-full bg-gray-700 text-white mb-4"
      >
        <i class="fa fa-user fa-3x"></i>
      </div>
      <% } %>

      <h2 class="text-xl font-semibold text-petrel mb-1">
        <%= usuario.nombre %> <%= usuario.apellido %>
      </h2>
      <p class="text-gray-400 text-sm mb-2"><%= usuario.correo %></p>
      <p class="text-gray-300 mb-3">
        <i class="fa fa-phone me-2"></i><%= usuario.telefono %>
      </p>

      <span
        class="inline-block px-3 py-1 text-sm rounded-full font-semibold <%= usuario.estado === 'disponible' ? 'bg-green-600 text-white' : 'bg-yellow-500 text-black' %>"
      >
        <%= usuario.estado === 'disponible' ? 'Disponible' : 'Ocupado' %>
      </span>
    </div>

    <!-- Formulario -->
    <div class="md:col-span-2 bg-benthic rounded-xl shadow p-6">
      <h3 class="text-xl font-semibold mb-4 text-petrel">Editar información</h3>
      <form
        action="/delivery/perfil"
        method="POST"
        enctype="multipart/form-data"
        class="space-y-4"
      >
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <div>
            <label
              for="nombre"
              class="block text-sm font-medium text-gray-400"
              >Nombre</label
            >
            <input
              type="text"
              id="nombre"
              name="nombre"
              value="<%= usuario.nombre %>"
              required
              class="w-full mt-1 p-3 rounded-lg bg-gray-800 text-white border border-gray-700 focus:ring-2 focus:ring-petrel"
            />
          </div>
          <div>
            <label
              for="apellido"
              class="block text-sm font-medium text-gray-400"
              >Apellido</label
            >
            <input
              type="text"
              id="apellido"
              name="apellido"
              value="<%= usuario.apellido %>"
              required
              class="w-full mt-1 p-3 rounded-lg bg-gray-800 text-white border border-gray-700 focus:ring-2 focus:ring-petrel"
            />
          </div>
        </div>

        <div>
          <label
            for="telefono"
            class="block text-sm font-medium text-gray-400"
            >Teléfono</label
          >
          <input
            type="text"
            id="telefono"
            name="telefono"
            value="<%= usuario.telefono %>"
            required
            class="w-full mt-1 p-3 rounded-lg bg-gray-800 text-white border border-gray-700 focus:ring-2 focus:ring-petrel"
          />
        </div>

        <div>
          <label
            for="foto"
            class="block text-sm font-medium text-gray-400"
            >Foto de perfil</label
          >
          <input
            type="file"
            id="foto"
            name="foto"
            accept="image/*"
            class="w-full mt-1 p-3 rounded-lg bg-gray-800 text-white border border-gray-700 file:mr-4 file:py-2 file:px-4 file:border-0 file:text-sm file:font-semibold file:bg-bluedart file:text-white hover:file:bg-petrel"
          />
        </div>

        <div class="pt-4">
          <button
            type="submit"
            class="w-full py-3 rounded-lg bg-bluedart hover:bg-petrel text-white font-semibold flex items-center justify-center gap-2 transition"
          >
            <i class="fa fa-save"></i> Guardar cambios
          </button>
        </div>
      </form>
    </div>
  </div>
</div>

<style>
  .bg-benthic {
    background-color: #151e27;
  }
  .text-petrel {
    color: #264653;
  }
  .bg-petrel {
    background-color: #264653;
  }
  .text-bluedart {
    color: #2a9d8f;
  }
  .bg-bluedart {
    background-color: #2a9d8f;
  }
</style>
